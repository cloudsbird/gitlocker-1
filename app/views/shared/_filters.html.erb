<%= form_with url: url_for(request.query_parameters.merge(search: params[:search])), method: :get, local: true, id: 'filter_form' do %>
  <%= hidden_field_tag :search, params[:search] %>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
    <%= select_tag :sort_by, options_for_select([
      ['Sort alphabetically a-z', 'alphabetical_asc'],
      ['Sort alphabetically z-a', 'alphabetical_desc'],
      ['Sort cheapest to most expensive', 'cheapest'],
      ['Sort most expensive to cheapest', 'most_expensive'],
      ['Sort by most likes', 'most_likes'],
      ['Sort by most recent', 'most_recent'],
      ['Sort by oldest', 'oldest']
    ], params[:sort_by]), prompt: 'Sort By', class: 'form-select block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' %>
    <%= submit_tag 'Apply Filters', class: 'btn btn-primary bg-indigo-600 text-white py-2 px-4 rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2' %>
  </div>
<% end %>
